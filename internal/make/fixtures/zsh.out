### zsh completion for go-make
function __complete_go-make() {
	COMPREPLY=($(compgen -W "$(go-make-targets)" -- "${COMP_WORDS[COMP_CWORD]}"));
};
function go-make-targets() {
	local DIR=$(git rev-parse --show-toplevel | sed "s|${HOME}||");
	cat "${HOME}/.config/go-make/${DIR}/targets";
	go-make show-targets >/dev/null 2>&1 &
};
complete -F __complete_go-make go-make;
zstyle ':completion:*:*:make:*' tag-order 'targets';

